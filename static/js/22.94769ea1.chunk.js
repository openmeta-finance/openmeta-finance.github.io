(this.webpackJsonpreact_imo=this.webpackJsonpreact_imo||[]).push([[22],{163:function(t,e,n){"use strict";var _=n(99),a=n(33),j=n(0),m=n.n(j),p=n(9),c=n(164),h=n.n(c),O=n(4);e.a=Object(a.b)("store")(Object(a.c)(function(t){var e=t.store,n=t.endTime,a=t.type,c=t.callback,i=e.config,r=i.langTextList,s=i.timeInterval,o=i.lang,l=Object(j.useRef)(),t=Object(j.useState)("0d: 0h: 0m: 0s"),e=Object(_.a)(t,2),i=e[0],d=e[1],t=Object(j.useState)({d:0,h:0,m:0,s:0}),e=Object(_.a)(t,2),t=e[0],b=e[1],r=r.Com;Object(j.useEffect)(function(){var t=parseInt((new Date).getTime()/1e3)+("bline"!=a?s:0);return function(t){-1!==l.current&&clearTimeout(l.current);var e=t;l.current=setInterval(function(){0<=e?(d(u(e).countDownDOM),b(u(e).countDownVal),--e):(c&&c(),clearTimeout(l.current))},1e3)}(n-t),function(){clearTimeout(l.current)}},[n]);var u=function(t){var e=t,n=(n=Math.floor(e/86400))<10?"0".concat(n):n,a=(a=Math.floor(e%86400/3600))<10?"0".concat(a):a,t=(t=Math.floor(e%86400%3600/60))<10?"0".concat(t):t,e=(e=Math.floor(e%86400%3600%60))<10?"0".concat(e):e;return{countDownDOM:(0<n?" ".concat(n,"d: ").concat(a,"h: ").concat(t,"m: "):(0<a?" ".concat(a,"h : "):"").concat(t,"m : ")).concat(e,"s"),countDownVal:{d:n,h:a,m:t,s:e}}};return Object(O.jsx)(m.a.Fragment,{children:["detail","bline"].includes(a)?Object(O.jsxs)("div",{className:"".concat(h.a.time," ").concat(h.a[o]),children:[Object(O.jsxs)("div",{className:"item",children:[Object(O.jsxs)("div",{className:"number hours",children:[t.d,Object(O.jsx)("span",{children:":"})]}),Object(O.jsx)("span",{children:r.Day})]}),Object(O.jsxs)("div",{className:"item",children:[Object(O.jsxs)("div",{className:"number minutes",children:[t.h,Object(O.jsx)("span",{children:":"})]}),Object(O.jsx)("span",{children:r.Hour})]}),Object(O.jsxs)("div",{className:"item",children:[Object(O.jsxs)("div",{className:"number seconds",children:[t.m,Object(O.jsx)("span",{children:":"})]}),Object(O.jsx)("span",{children:r.Min})]}),Object(O.jsxs)("div",{className:"item",children:[Object(O.jsx)("div",{className:"number seconds",children:t.s}),Object(O.jsx)("span",{children:r.Sec})]})]}):Object(O.jsxs)("div",{className:h.a.timebar,children:[Object(O.jsx)("img",{src:p.U,alt:""}),Object(O.jsx)("span",{children:i})]})})}))},164:function(t,e,n){t.exports={mainContent:"CountDown_mainContent__2TYil",start:"CountDown_start__2pNsx",end:"CountDown_end__3v6cC",align:"CountDown_align__2rogz",align_center:"CountDown_align_center__3oOD8",timebar:"CountDown_timebar__23m5G",align_between:"CountDown_align_between__27DEj",align_around:"CountDown_align_around__3sgyk",horizontal_between:"CountDown_horizontal_between__3Hn2v",horizontal_center:"CountDown_horizontal_center__8l2xI",clamp:"CountDown_clamp__1SSVV",clamp2:"CountDown_clamp2__1bNyb",clamp3:"CountDown_clamp3__1RhkV",clamp4:"CountDown_clamp4__3b249",time:"CountDown_time__jAb3b",en:"CountDown_en__1tK5C"}},168:function(t,e,n){"use strict";n(0);var a=n(33),c=n(5),i=n(102),r=n(169),s=n.n(r),o=n(4);e.a=Object(c.j)(Object(a.b)("store")(Object(a.c)(function(t){var e=t.store,n=t.history,a=t.type,t=e.config,e=t.langTextList,t=t.lang,e=e.Com,c=Object(i.a)({la:t});return Object(o.jsx)("button",{className:s.a.back,onClick:function(){"home"==a?n.push(c.Home):window.history.back()},children:e["home"==a?"BackHome":"Back"]})})))},169:function(t,e,n){t.exports={mainContent:"Back_mainContent__UGPl3",start:"Back_start__2uEOW",end:"Back_end__rmaEn",align:"Back_align__2--cJ",align_center:"Back_align_center__APnN6",align_between:"Back_align_between__XJwGe",align_around:"Back_align_around__I7Ztu",horizontal_between:"Back_horizontal_between__14IKJ",horizontal_center:"Back_horizontal_center__17D8i",clamp:"Back_clamp__3PNjD",clamp2:"Back_clamp2__3FweH",clamp3:"Back_clamp3__8pMqo",clamp4:"Back_clamp4__1wW88",back:"Back_back__jnBND"}},174:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a={prDis:function(t){return{paddingRight:t}},plDis:function(t){return{paddingLeft:t}},ptDis:function(t){return{paddingTop:t}},pDis:function(t){return{padding:t}},mtDis:function(t){return{marginTop:t}},mbDis:function(t){return{marginBottom:t}},mlDis:function(t){return{marginLeft:t}},mrDis:function(t){return{marginRight:t}},mhDis:function(t){return{marginHorizontal:t}},mvDis:function(t){return{marginVertical:t}},mDis:function(t){return{margin:t}},setWidth:function(t){return{width:t}},setHeight:function(t){return{height:t}},boTW:function(t){return{borderTopWidth:t}},boBW:function(t){return{borderBottomWidth:t}}}},354:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a=[{chainId:56,nftContract:"0x7AA2117096aCF0aBf229dDaE32ED9A0994342dfF",blineContract:"0x9d7E680B850426F0F786a76A4445De6000886419",poolContract:"0xb2DE2Eb4de07B69AEAc92644B9D58e2Cd8df0Bd7",openContract:"0x07fcBcf7076fA25fEE15272bBA4adCa0D2d148dc",activeType:"public"},{chainId:56,nftContract:"0x7AA2117096aCF0aBf229dDaE32ED9A0994342dfF",blineContract:"0x9d7E680B850426F0F786a76A4445De6000886419",poolContract:"0xB8A24Df9374d74e3B839C21138251Be3ABAfcB98",openContract:"0x07fcBcf7076fA25fEE15272bBA4adCa0D2d148dc",activeType:"community"},{chainId:56,nftContract:"0x7AA2117096aCF0aBf229dDaE32ED9A0994342dfF",blineContract:"0x9d7E680B850426F0F786a76A4445De6000886419",poolContract:"0x0606037CF5f5Ade1AA67EDc5ACe868916C928C4B",openContract:"0x07fcBcf7076fA25fEE15272bBA4adCa0D2d148dc",activeType:"lock"}]},627:function(t,e,n){t.exports={mainContent:"BlindDetail_mainContent__2zcIO",start:"BlindDetail_start__2T4ZS",main:"BlindDetail_main__1rtyp",right:"BlindDetail_right__3DNgn",price_snum:"BlindDetail_price_snum__uy3yA",end:"BlindDetail_end__3ZC7U",align:"BlindDetail_align__iM44x",align_center:"BlindDetail_align_center__1sjDp",align_between:"BlindDetail_align_between__3XmUr",bnum_time:"BlindDetail_bnum_time__YEbgl",bnumBar:"BlindDetail_bnumBar__1mRAx",align_around:"BlindDetail_align_around__3y3TW",priceBar:"BlindDetail_priceBar__2hiZ_",amountBar:"BlindDetail_amountBar__1f1a9",horizontal_between:"BlindDetail_horizontal_between__pjVtJ",horizontal_center:"BlindDetail_horizontal_center__2DkfC",clamp:"BlindDetail_clamp__1rbvg",clamp2:"BlindDetail_clamp2__H3RFr",clamp3:"BlindDetail_clamp3__2x82y",clamp4:"BlindDetail_clamp4__I22pS",snumBar:"BlindDetail_snumBar__1y63K",btnWrap:"BlindDetail_btnWrap__3kMXS",approve:"BlindDetail_approve__3sg1t",approveLoading:"BlindDetail_approveLoading__aRD7z",confirm:"BlindDetail_confirm__1DBP2",confirmLoading:"BlindDetail_confirmLoading__3FArJ",view:"BlindDetail_view__2rkf5",timeBar:"BlindDetail_timeBar__2okb7",en:"BlindDetail_en__2q9om"}},628:function(t,e,n){t.exports={mainContent:"Tab_mainContent__1qvjn",start:"Tab_start__2cNS6",end:"Tab_end__2pqcb",align:"Tab_align__1QmKP",align_center:"Tab_align_center__2zidf",align_between:"Tab_align_between__3FJdc",detail_tab:"Tab_detail_tab__fSwdV",con0:"Tab_con0__3XCe0",align_around:"Tab_align_around__1OEm9",horizontal_between:"Tab_horizontal_between__1AQ4h",horizontal_center:"Tab_horizontal_center__2n57j",clamp:"Tab_clamp__3duVn",clamp2:"Tab_clamp2__2imFV",clamp3:"Tab_clamp3__1bds8",clamp4:"Tab_clamp4__3xHXa",tab:"Tab_tab__2Zzh9",con1:"Tab_con1__2Orum",en:"Tab_en__1i8Gh"}},654:function(t,e,n){"use strict";n.r(e),n(210);var a=n(212),et=n.n(a),c=(n(211),n(228)),nt=n.n(c),at=n(34),ct=n(99),a=n(23),it=n.n(a),c=n(33),rt=n(0),st=n.n(rt),ot=n(5),lt=n(106),dt=n(17),bt=n(2),ut=n(354),_t=n(102),jt=n(163),mt=n(413),pt=n(174),a=n(627),ht=n.n(a),Ot=n(168),ft=n(121),xt=n(143),gt=n.p+"static/media/minus.6f4c3cd0.svg",vt=n.p+"static/media/plus.7c72c9e7.svg",_=n(9),a=n(628),j=n.n(a),Bt=n(4),Dt=Object(c.b)("store")(Object(c.c)(function(t){var n,a,e=t.store,c=t.info,i=e.config,r=i.langTextList,t=i.lang,e=Object(rt.useState)({}),i=Object(ct.a)(e,2),e=i[0],s=i[1],o=["zh-CN","zh-HK"].includes(t)?"ch":"en",i=Object(rt.useState)(0),i=Object(ct.a)(i,2),l=i[0],d=i[1],b=r.Tab,u=r.Field;return Object(rt.useEffect)(function(){var t=c.raritySetting,e=c.description,n=c.blindBoxBackgroundImage;s({raritySetting:t||[],description:e?e[o]:"FFF",descImg:n||_.n})},[c]),Object(Bt.jsx)("div",{className:"box ".concat(j.a.detail_tab," ").concat(j.a[t]),children:Object(Bt.jsxs)("div",{className:"space-y-20",children:[Object(Bt.jsx)("div",{className:"d-flex justify-content-between mb-50_reset",children:Object(Bt.jsx)("ul",{className:"nav nav-tabs ".concat(j.a.tab),children:(a=[],[{text:"BlindDetail",sign:0},{text:"ProjectDesc",sign:1}].forEach(function(t,e){a.push(Object(Bt.jsx)("li",{className:"nav-item",onClick:function(){return d(e)},children:Object(Bt.jsx)("a",{className:"btn btn-white btn-sm ".concat(e==l?"active":""),children:b[t.text]})},"blindDetailTabListRender_".concat(e)))}),a)})}),Object(Bt.jsxs)("div",{children:[0==l&&Object(Bt.jsx)("div",{className:"tab-pane ".concat(j.a.con0),children:0<(null===(t=e.raritySetting)||void 0===t?void 0:t.length)&&Object(Bt.jsx)("ul",{children:(n=[],e.raritySetting.forEach(function(t,e){n.push(Object(Bt.jsxs)("li",{children:[Object(Bt.jsx)("div",{children:t.logoImage&&Object(Bt.jsx)("img",{src:t.logoImage,alt:""})}),Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)("h3",{children:t.name[o]}),Object(Bt.jsxs)("div",{children:[u.Raruty,Object(Bt.jsx)("span",{children:t.rarity})]}),Object(Bt.jsxs)("div",{children:[u.Quantity,Object(Bt.jsx)("span",{children:t.quantity})]}),Object(Bt.jsxs)("div",{children:[u.Probability,Object(Bt.jsx)("span",{children:t.probability})]})]})]},"blindDetailRender_".concat(e)))}),n)})}),1==l&&Object(Bt.jsxs)("div",{className:"tab-pane ".concat(j.a.con1),children:[Object(Bt.jsx)("img",{src:e.descImg,alt:""}),Object(Bt.jsx)("p",{children:e.description})]})]})]})})}));e.default=Object(ot.j)(Object(c.b)("store")(Object(c.c)(function(t){function e(){u.getPrimaryDetail({chain_id:l,contractAddress:d}).then(function(t){t.code||H(t)})}var n,a,c,i,r=t.store,s=t.history,o=Object(ot.i)(),l=o.chainId,d=o.contract,b=r.config,u=r.nft,_=b.lang,j=b.isPC,m=b.uploadImgPr,p=b.account,h=b.coinList,O=b.langTextList,f=Object(rt.useState)(0),x=Object(ct.a)(f,2),g=x[0],v=x[1],B=Object(rt.useState)(1),D=Object(ct.a)(B,2),C=D[0],w=D[1],y=Object(rt.useState)(0),k=Object(ct.a)(y,2),N=k[0],T=k[1],A=Object(rt.useState)(!0),E=Object(ct.a)(A,2),S=E[0],z=E[1],t=Object(rt.useState)({lastAmount:0,userCanBuy:{}}),o=Object(ct.a)(t,2),I=o[0],F=o[1],r=O.Button,f=O.Field,x=O.Hint,L=O.Com,B=Object(rt.useState)({blindBoxDetailImage:"",tokenAddress:"",remainingNum:0,totalSale:0,salePrice:0,title:""}),D=Object(ct.a)(B,2),y=D[0],H=D[1],k=y.blindBoxDetailImage,A=y.title,E=y.salePrice,t=y.totalSale,P=y.remainingNum,V=y.startTime,o=y.endTime,M=y.boxNftAddress,R=y.tokenAddress,W=Object(_t.a)({la:_}),O=(new Date).getTime(),J=bt.o[l],K=Object(dt.d)(h,R,J),B=["zh-CN","zh-HK"].includes(_)?"ch":"en",q=E*C,U=(U=ut.a.find(function(t){return t.poolContract.toLowerCase()==d.toLowerCase()}))||{},X=(i=Object(at.a)(it.a.mark(function t(){var e;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("public"==U.activeType)return t.next=3,Object(lt.l)(d,p);t.next=7;break;case 3:e=t.sent,F({lastAmount:e,userCanBuy:{}}),t.next=8;break;case 7:u.getNftBindBoxCheck({account:p,nft_num:C,chain_id:l,contract:U.poolContract}).then(function(t){var e=t.code,t=t.result;0==e&&F(t)});case 8:case"end":return t.stop()}},t)})),function(){return i.apply(this,arguments)}),Z=(c=Object(at.a)(it.a.mark(function t(){var e;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="",R==bt.b)return t.next=4,Object(lt.j)(p);t.next=7;break;case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,Object(lt.i)(R,p);case 9:e=t.sent;case 10:T(e);case 12:case"end":return t.stop()}},t)})),function(){return c.apply(this,arguments)}),G=(a=Object(at.a)(it.a.mark(function t(){var e;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(R!=bt.b)return t.next=3,Object(lt.k)(R,p,d);t.next=13;break;case 3:if(!((e=t.sent)&&0<e)){t.next=8;break}v(3),t.next=13;break;case 8:return v(1),t.next=11,Object(lt.h)(R,d,p);case 11:0<t.sent.toString()&&Object(lt.s)(R,p,d);case 13:case"end":return t.stop()}},t)})),function(){return a.apply(this,arguments)});Object(rt.useEffect)(function(){p&&X()},[p]),Object(rt.useEffect)(function(){return e(),n=setInterval(function(){e()},9e3),function(){clearInterval(n)}},[]),Object(rt.useEffect)(function(){var t;(t=Object(at.a)(it.a.mark(function t(){return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:p&&(b.chainId==l?0<P?0<I.lastAmount&&R&&S?(Z(),G(),z(!1)):v(3):v(6):v(7));case 1:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})()},[y,p,I,b.chainId]);function Q(){var t=(new Date).getTime();return 0<P&&C<=P&&C<=I.lastAmount&&q<=+N&&V<t}function Y(t){"plus"==t&&w(C+1),"minus"==t&&1<C&&w(C-1)}function $(t){if(Object.keys(h).length){var e,t=((null===(e=h[J][K])||void 0===e?void 0:e.usdtPrice)||0)*+t;return Object(dt.j)(t,2)}return 0}function tt(t,e,n,a,c){n={apply:"".concat(L.Approve," ").concat(n," ").concat(L[t]),trade:"".concat(L.Trade," ").concat(e," ").concat(n," ").concat(L[t])},nt.a[t.toLowerCase()]({description:Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)("p",{children:n[c]}),a&&Object(Bt.jsx)("a",{href:Object(dt.g)(a,J),target:"_blank",rel:"noreferrer",children:"".concat(L.ViewOn," ").concat("en"===_?J:"")})]})})}D=Object(Bt.jsx)(mt.a,{style:{fontSize:20},spin:!0});return Object(Bt.jsxs)("div",{className:"overflow-hidden ".concat(ht.a[_]),children:[Object(Bt.jsx)(ft.a,{}),Object(Bt.jsxs)("div",{className:"container ".concat(ht.a.main),children:[j&&Object(Bt.jsx)("div",{className:"my-40",children:Object(Bt.jsx)(Ot.a,{})}),Object(Bt.jsx)("div",{className:"item_details",children:Object(Bt.jsxs)("div",{className:"row sm:space-y-20",children:[Object(Bt.jsx)("div",{className:"col-lg-5 mr-40",children:Object(Bt.jsx)("img",{className:"item_img ".concat(ht.a.pic),src:Object(dt.e)(m,k),alt:""})}),Object(Bt.jsxs)("div",{className:"col-lg-6 ".concat(ht.a.right),children:[Object(Bt.jsx)("h3",{children:Object(dt.m)(A[B])}),Object(Bt.jsxs)("div",{className:ht.a.price_snum,children:[Object(Bt.jsxs)("div",{className:ht.a.priceBar,children:[Object(Bt.jsx)("span",{children:f.UnitPrice}),Object(Bt.jsxs)("div",{children:[0<Object.keys(h).length&&Object(Bt.jsx)("img",{src:Object(dt.c)(J,R),alt:""}),Object(Bt.jsxs)("strong",{children:[E," ",K]})]}),Object(Bt.jsxs)("span",{children:["≈$ ",$(E)]})]}),Object(Bt.jsxs)("div",{className:ht.a.snumBar,children:[Object(Bt.jsx)("span",{children:f.ResidueNum}),Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)("strong",{children:P}),"/",t]})]})]}),Object(Bt.jsxs)("div",{className:ht.a.bnum_time,children:[Object(Bt.jsxs)("div",{className:ht.a.bnumBar,children:[Object(Bt.jsx)("p",{children:f.BuyNum}),Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)("img",{src:gt,alt:"",onClick:function(){return Y("minus")}}),C,Object(Bt.jsx)("img",{src:vt,alt:"",onClick:function(){return Y("plus")}})]}),Object(Bt.jsx)("span",{dangerouslySetInnerHTML:{__html:f.CanBuyAmount(I.lastAmount)}})]}),0<P&&Object(Bt.jsxs)("div",{className:ht.a.timeBar,children:[Object(Bt.jsx)("p",{children:f[O<=V?"StratTime":"EndTime"]}),Object(Bt.jsx)(jt.a,{endTime:O<=V?parseInt(V/1e3):parseInt(o/1e3),type:"bline",callback:function(){e()}})]})]}),Object(Bt.jsxs)("div",{className:ht.a.amountBar,children:[f.TotalAmount,Object(Bt.jsxs)("strong",{children:[q," ",K]}),"≈$ ",$(q)]}),Object(Bt.jsxs)("div",{className:ht.a.btnWrap,children:[1===g&&Object(Bt.jsx)("button",{className:ht.a.approve,onClick:function(){var e;Object(lt.a)(R,d).then((e=Object(at.a)(it.a.mark(function t(e){var n,a;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return v(2),t.next=3,e.wait();case 3:n=t.sent,a=n.transactionHash,1===n.status?(tt("Success","",K,a,"apply"),Object(lt.s)(R,p,d),v(3)):(v(1),tt("Error","",K,a,"apply"));case 6:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)})).catch(function(t){tt("Error","",K,"","apply")})},children:"".concat(L.Approve)}),2===g&&Object(Bt.jsxs)("button",{className:ht.a.approveLoading,children:[Object(Bt.jsx)(et.a,{indicator:D}),Object(Bt.jsx)("span",{style:pt.a.plDis(15),children:"".concat(L.Approve)})]}),3===g&&Object(Bt.jsx)("button",{className:Q()?ht.a.confirm:"",onClick:function(){function n(t,e){var n;Object(lt.c)(t,d,e,p,U.activeType).then((n=Object(at.a)(it.a.mark(function t(e){var n,a;return it.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return v(4),t.next=3,e.wait();case 3:n=t.sent,a=n.transactionHash,1===n.status?(Z(),v(3),X(),tt("Success","","",a,"trade")):(v(3),tt("Error","","",a,"trade"));case 7:case"end":return t.stop()}},t)})),function(t){return n.apply(this,arguments)})).catch(function(t){tt("Error","","","","trade")})}1==C||"public"==U.activeType?n(I.userCanBuy,C):u.getNftBindBoxCheck({account:p,nft_num:C,chain_id:l,contract:U.poolContract}).then(function(t){var e=t.code,t=t.result;0==e?n(t.userCanBuy,C):tt("Error","","","","trade")})},disabled:!Q(),children:"".concat(r.Buy)}),4===g&&Object(Bt.jsxs)("button",{className:ht.a.confirmLoading,children:[Object(Bt.jsx)(et.a,{indicator:D}),Object(Bt.jsx)("span",{style:pt.a.plDis(15),children:"".concat(r.Buy)})]}),6===g&&Object(Bt.jsxs)(st.a.Fragment,{children:[Object(Bt.jsx)("button",{disabled:!0,children:0==P?r.AlreadySellOut:r.AlreadyOver}),Object(Bt.jsx)("button",{className:ht.a.view,onClick:function(){var t=W.SCollection,e=M;s.push({pathname:"".concat(t,"/").concat(e)})},children:r.ToViewCollection})]}),7===g&&Object(Bt.jsx)("button",{disabled:!0,children:"".concat(x.ChainErr)})]})]})]})}),Object(Bt.jsx)(Dt,{info:y})]}),Object(Bt.jsx)(xt.a,{})]})})))}}]);